[
  {
    "submission_id": 1657170503,
    "code": "class Solution:\n    def minOperations(self,w1: str,w2: str) -> int:\n        n = len(w1)\n        s = [ord(c)-97 for c in w1]\n        t = [ord(c)-97 for c in w2]\n        INF = 10**9\n        dp = [INF]*(n+1)\n        dp[0] = 0\n        for i in range(n):\n            for j in range(i,n):\n                m = 0\n                cnt = {}\n                for k in range(i,j+1):\n                    if s[k]!=t[k]:\n                        m += 1\n                        cnt[(s[k],t[k])] = cnt.get((s[k],t[k]),0) + 1\n                g = 0\n                for (x,y),v in cnt.items():\n                    if x<y:\n                        g += min(v, cnt.get((y,x),0))\n                cost0 = m - g\n                m2 = 0\n                cnt2 = {}\n                for k in range(i,j+1):\n                    a = s[j-(k-i)]\n                    b = t[k]\n                    if a!=b:\n                        m2 += 1\n                        cnt2[(a,b)] = cnt2.get((a,b),0) + 1\n                g2 = 0\n                for (x,y),v in cnt2.items():\n                    if x<y:\n                        g2 += min(v, cnt2.get((y,x),0))\n                cost1 = 1 + m2 - g2\n                c = cost0 if cost0<cost1 else cost1\n                v = dp[i] + c\n                if v < dp[j+1]:\n                    dp[j+1] = v\n        return dp[n]\n\n        ",
    "lang": "python3",
    "question_id": 3866,
    "contest_submission": 24471846
  },
  {
    "submission_id": 1657197336,
    "code": "class Solution:\n    def minOperations(self, word1: str, word2: str) -> int:\n        n = len(word1)\n        A = [ord(c) - 97 for c in word1]\n        B = [ord(c) - 97 for c in word2]\n\n        def segment_cost(j: int, i: int) -> int:\n            # original s\u2192t\n            M = 0\n            cnt = [[0]*26 for _ in range(26)]\n            for k in range(j, i):\n                a, b = A[k], B[k]\n                if a != b:\n                    M += 1\n                    cnt[a][b] += 1\n            K = 0\n            for a in range(26):\n                for b in range(a+1, 26):\n                    K += min(cnt[a][b], cnt[b][a])\n            best = M - K\n\n            # try reverse once\n            M2 = 0\n            cnt2 = [[0]*26 for _ in range(26)]\n            L = i - j\n            for off in range(L):\n                a = A[j + (L-1 - off)]\n                b = B[j +    off      ]\n                if a != b:\n                    M2 += 1\n                    cnt2[a][b] += 1\n            K2 = 0\n            for a in range(26):\n                for b in range(a+1, 26):\n                    K2 += min(cnt2[a][b], cnt2[b][a])\n\n            # pay 1 operation for the reverse itself\n            best = min(best, 1 + (M2 - K2))\n            return best\n\n        # DP over prefixes\n        INF = 10**9\n        dp = [INF] * (n+1)\n        dp[0] = 0\n\n        for i in range(1, n+1):\n            best = INF\n            for j in range(i):\n                c = segment_cost(j, i)\n                # if segment_cost ever returns INF you can skip, but here it's always finite\n                best = min(best, dp[j] + c)\n            dp[i] = best\n\n        return dp[n]\n        ",
    "lang": "python3",
    "question_id": 3866,
    "contest_submission": 24491464
  },
  {
    "submission_id": 1657190618,
    "code": "class Solution:\n    def minOperations(self, word1: str, word2: str) -> int:\n        n = len(word1)\n        dp = list(range(n + 1))\n\n        for i in range(1, n + 1):\n            for j in range(i):\n                x = [(a, b) for a, b in zip(word1[j:i], word2[j:i]) if a != b]\n                len_x = len(x)\n                if len_x == 0:\n                    c = 0\n                else:\n                    counter_x = Counter(x)\n                    sum_x = sum(\n                        min(counter_x[p], counter_x[(p[1], p[0])])\n                        for p in counter_x\n                        if p[0] < p[1]\n                    )\n                    # print(f\"i: {i}, j: {j}, x: {x}, len_x: {len_x}, sum_x: {sum_x}\")\n                    c = len_x - sum_x\n                    if len_x > 1:\n                        y = [\n                            (a, b)\n                            for a, b in zip(word1[j:i][::-1], word2[j:i])\n                            if a != b\n                        ]\n                        # print(f\"y: {y}\")\n                        counter_y = Counter(y)\n                        sum_y = sum(\n                            min(counter_y[p], counter_y[(p[1], p[0])])\n                            for p in counter_y\n                            if p[0] < p[1]\n                        )\n                        c = min(c, len(y) - sum_y + 1)\n                        # print(f\"i: {i}, j: {j}, x: {x}, y: {y}, c: {c}\")\n                dp[i] = min(dp[i], dp[j] + c)\n                # print(f\"i: {i}, j: {j}, dp[i]: {dp[i]}\")\n\n        # return dp[n - 1]\n        return dp[n]\n",
    "lang": "python3",
    "question_id": 3866,
    "contest_submission": 24486632
  }
]